@page "/"
@using VakanzFilter.ViewModel
@using VakanzFilter.Data
@inject IndexViewModel IndexViewModel

<PageTitle>Vakanz Filter</PageTitle>
<div class="container">
    <div class="left">
        <h1>Vakanz Filter</h1>
        <textarea id="jobText" placeholder="Fügen Sie hier den Text der Vakanz ein"></textarea>
        <button id="analyzeButton">Analyse starten</button>
        <div id="result"></div>
        <div id="context"></div>
    </div>
    <div class="right">
        <h1>Filter</h1>
        <div id="absoluteNoGo">
            <h2>Absolutes No-Go</h2>
            <input type="text" @bind="IndexViewModel.noGoText"/>
            <button class="add" @onclick="() => IndexViewModel.AddFilter(FilterType.NoGo)">Filter hinzufügen</button>
            @if (IndexViewModel.filters.NoGo.Any())
            {
                <ol>
                    @foreach (var oneFilter in IndexViewModel.filters.NoGo)
                    {
                        <li>
                            @oneFilter
                            <input type="button" @onclick="() => IndexViewModel.DeleteFilter(FilterType.NoGo, oneFilter)" value="Entfernen"/>
                        </li>
                    }
                </ol>
            }
        </div>
        <div id="maybe">
            <h2>Evtl.</h2>
            <input type="text" @bind="IndexViewModel.maybeText"/>
            <button class="add" @onclick="() => IndexViewModel.AddFilter(FilterType.Maybe)">Filter hinzufügen</button>
            @if (IndexViewModel.filters.Maybe.Any())
            {
                <ol>
                    @foreach (var oneFilter in IndexViewModel.filters.Maybe)
                    {
                        <li>
                            @oneFilter
                            <input type="button" @onclick="() => IndexViewModel.DeleteFilter(FilterType.Maybe, oneFilter)" value="Entfernen"/>

                        </li>
                    }
                </ol>
            }
        </div>
        <div id="positive">
            <h2>Positive</h2>
            <input type="text" @bind="IndexViewModel.goodText"/>
            <button class="add" @onclick="() => IndexViewModel.AddFilter(FilterType.Good)">Filter hinzufügen</button>
            @if (IndexViewModel.filters.Good.Any())
            {
                <ol>
                    @foreach (var oneFilter in IndexViewModel.filters.Good)
                    {
                        <li>
                            @oneFilter
                            <input type="button" @onclick="() => IndexViewModel.DeleteFilter(FilterType.Good, oneFilter)" value="Entfernen"/>
                        </li>
                    }
                </ol>
            }
        </div>
    </div>
</div>